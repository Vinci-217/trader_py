# AI量化交易策略 (ai-quent) 实施计划

## 一、项目架构设计

创建 `ai-quent` 文件夹，包含以下模块：

```
ai-quent/
├── __init__.py
├── config.py              # 配置文件（API keys, 股票列表等）
├── ai_client.py           # 硅基流动AI调用模块
├── strategy.py             # 核心策略（指标+AI分析）
├── trader.py               # 交易执行（Schwab API）
├── backtest.py             # 回测模块
└── main.py                # 主入口
```

## 二、技术指标策略（可回测）

采用多指标综合策略：
1. **SMA均线交叉** - 短期/长期均线金叉买入，死叉卖出
2. **RSI超买超卖** - RSI<30超卖买入，RSI>70超买卖出
3. **MACD信号** - MACD金叉买入，死叉卖出
4. **布林带** - 价格触及下轨买入，上轨卖出
5. **成交量确认** - 放量突破时买入

## 三、AI分析模块

### 模型选择
推荐使用 **DeepSeek-V3**（或 Qwen2.5-72B）：
- 推理能力强，适合金融分析
- 支持长上下文，可分析K线图
- 性价比高

### AI提示词设计
```python
SYSTEM_PROMPT = """你是一位专业的股票分析师，擅长技术分析和基本面分析。
请根据提供的股票数据，给出：
1. 当前趋势判断（上涨/下跌/震荡）
2. 关键支撑位和阻力位
3. 买入/卖出/持有建议
4. 风险提示
输出格式化为JSON"""
```

### AI输出规范
```json
{
  "trend": "bullish/bearish/sideways",
  "support": 120.5,
  "resistance": 135.0,
  "recommendation": "buy/sell/hold",
  "confidence": 0.85,
  "risk_level": "low/medium/high",
  "reason": "..."
}
```

## 四、交易执行模块

- 每日最多3次日内交易限制
- 止损点设置：默认-5%止损
- 止盈点设置：默认+10%止盈
- 结合AI建议和指标信号做最终决策

## 五、回测模块

- 使用backtrader进行历史回测
- 计算胜率、夏普比率、最大回撤
- 股票：NVDA, TSLA, AAPL
- 回测周期：2020-01-01 至今

## 六、实施步骤

1. 创建项目结构和配置文件
2. 实现AI客户端（硅基流动API调用）
3. 实现多指标策略
4. 实现Schwab交易执行
5. 实现回测模块
6. 运行回测并分析结果

## 七、回测预期输出

- 总收益率
- 胜率
- 夏普比率
- 最大回撤
- 每次交易的详细记录